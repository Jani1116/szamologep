<!DOCTYPE html>
<html lang="hu">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Smart Toolbox 2026</title>
    <style>
        :root {
            --bg: #000000; --card: #1c1c1e; --accent: #0a84ff; --text: #ffffff; 
            --gray: #8e8e93; --border: #38383a; --red: #ff453a;
        }
        body { font-family: -apple-system, sans-serif; background: var(--bg); color: var(--text); margin: 0; padding: 10px; }
        .container { max-width: 500px; margin: auto; background: var(--card); border-radius: 30px; padding: 20px; min-height: 92vh; display: flex; flex-direction: column; border: 1px solid var(--border); box-sizing: border-box; }
        .hidden { display: none !important; }
        
        /* 3D GOMBOK (Sz√°mol√≥g√©p) */
        .calc-grid { display: grid; grid-template-columns: repeat(4, 1fr); gap: 15px; margin-top: 10px; }
        .btn-3d { 
            background: #333; border: none; border-radius: 15px; color: white; font-size: 22px; font-weight: bold;
            padding: 20px 0; cursor: pointer;
            box-shadow: 0 6px #1a1a1a; transition: all 0.1s; position: relative;
        }
        .btn-3d:active { box-shadow: 0 2px #1a1a1a; transform: translateY(4px); }
        .btn-op { background: #444; color: var(--accent); }
        .btn-eq { background: var(--accent); color: white; box-shadow: 0 6px #0056b3; }
        
        /* R√≥mai panel */
        .roman-keyboard { display: grid; grid-template-columns: repeat(4, 1fr); gap: 10px; background: #2c2c2e; padding: 15px; border-radius: 18px; margin-top: 10px; }
        .roman-key { background: #444; border: none; color: white; padding: 15px; border-radius: 10px; font-size: 18px; font-weight: bold; box-shadow: 0 4px #222; }
        .roman-key:active { transform: translateY(2px); box-shadow: 0 2px #222; }

        input, select { background: #2c2c2e; border: 1px solid var(--border); color: white; padding: 14px; border-radius: 12px; width: 100%; font-size: 16px; box-sizing: border-box; outline: none; }
        .result-box { background: rgba(10, 132, 255, 0.1); padding: 15px; border-radius: 14px; border: 1px solid var(--accent); margin: 10px 0; font-weight: 600; text-align: center; }
        .back-btn { background: #333; color: white; border: 1px solid var(--border); padding: 15px; border-radius: 16px; width: 100%; margin-top: auto; font-weight: 600; }
    </style>
</head>
<body>

<div class="container" id="menu">
    <div style="font-size: 50px; text-align: center; margin: 20px 0;">üõ†Ô∏è</div>
    <h1>Smart Toolbox</h1>
    <button style="padding:20px; border-radius:18px; background:#2c2c2e; color:white; border:none; margin:10px 0; width:100%; display:flex; justify-content:space-between" onclick="show('calc')">üî¢ Sz√°mol√≥g√©p <span>‚Ä∫</span></button>
    <button style="padding:20px; border-radius:18px; background:#2c2c2e; color:white; border:none; margin:10px 0; width:100%; display:flex; justify-content:space-between" onclick="show('egyenlet')">‚ûó Egyenlet <span>‚Ä∫</span></button>
    <button style="padding:20px; border-radius:18px; background:#2c2c2e; color:white; border:none; margin:10px 0; width:100%; display:flex; justify-content:space-between" onclick="show('egyeb')">‚öôÔ∏è Egy√©b <span>‚Ä∫</span></button>
</div>

<div class="container hidden" id="calc">
    <input type="text" id="calc-display" readonly value="0" style="text-align:right; font-size:48px; height:100px; background:transparent; border:none; margin-bottom:10px;">
    <div class="calc-grid">
        <button class="btn-3d btn-op" onclick="clearCalc()">AC</button>
        <button class="btn-3d btn-op" id="paren-btn" onclick="appendCalc('(')">(</button>
        <button class="btn-3d btn-op" onclick="appendCalc(')')">)</button>
        <button class="btn-3d btn-op" onclick="appendCalc('/')">√∑</button>
        
        <button class="btn-3d" onclick="appendCalc('7')">7</button>
        <button class="btn-3d" onclick="appendCalc('8')">8</button>
        <button class="btn-3d" onclick="appendCalc('9')">9</button>
        <button class="btn-3d btn-op" onclick="appendCalc('*')">√ó</button>
        
        <button class="btn-3d" onclick="appendCalc('4')">4</button>
        <button class="btn-3d" onclick="appendCalc('5')">5</button>
        <button class="btn-3d" onclick="appendCalc('6')">6</button>
        <button class="btn-3d btn-op" onclick="appendCalc('-')">-</button>
        
        <button class="btn-3d" onclick="appendCalc('1')">1</button>
        <button class="btn-3d" onclick="appendCalc('2')">2</button>
        <button class="btn-3d" onclick="appendCalc('3')">3</button>
        <button class="btn-3d btn-op" onclick="appendCalc('+')">+</button>
        
        <button class="btn-3d" style="grid-column: span 2;" onclick="appendCalc('0')">0</button>
        <button class="btn-3d" onclick="appendCalc('.')">.</button>
        <button class="btn-3d btn-eq" onclick="calculate()">=</button>
    </div>
    <button class="back-btn" onclick="show('menu')">Vissza</button>
</div>

<div class="container hidden" id="romai">
    <h2>R√≥mai sz√°mok</h2>
    <input type="number" id="num-in" placeholder="Sz√°m..." oninput="toRoman(this.value)">
    <input type="text" id="rom-in" readonly placeholder="R√≥mai jelek..." style="margin-top:10px">
    <div class="roman-keyboard">
        <button class="roman-key" onclick="appendRoman('M')">M</button>
        <button class="roman-key" onclick="appendRoman('D')">D</button>
        <button class="roman-key" onclick="appendRoman('C')">C</button>
        <button class="roman-key" onclick="appendRoman('L')">L</button>
        <button class="roman-key" onclick="appendRoman('X')">X</button>
        <button class="roman-key" onclick="appendRoman('V')">V</button>
        <button class="roman-key" onclick="appendRoman('I')">I</button>
        <button class="roman-key" onclick="appendRoman('DEL')" style="background:var(--red)">‚Üê</button>
    </div>
    <div id="rom-res-box" class="result-box">...</div>
    <button class="back-btn" onclick="show('egyeb')">Vissza</button>
</div>

<div class="container hidden" id="egyeb"><h2>Egy√©b</h2><button class="main-btn" onclick="show('romai')">R√≥mai</button><button class="back-btn" onclick="show('menu')">Vissza</button></div>

<script>
    function show(id) { document.querySelectorAll('.container').forEach(c => c.classList.add('hidden')); document.getElementById(id).classList.remove('hidden'); }

    // --- SZ√ÅMOL√ìG√âP LOGIKA ---
    let calcExpr = "";
    function appendCalc(v) {
        if(v === '(' || v === ')') { calcExpr += v; }
        else { calcExpr = (document.getElementById('calc-display').value === "0") ? v : calcExpr + v; }
        updateCalcDisplay();
    }
    function updateCalcDisplay() {
        const d = document.getElementById('calc-display');
        d.value = calcExpr || "0";
        // Z√°r√≥jel ellen≈ërz√©s
        const open = (calcExpr.match(/\(/g) || []).length;
        const close = (calcExpr.match(/\)/g) || []).length;
        document.getElementById('paren-btn').style.color = (open !== close) ? "var(--red)" : "var(--accent)";
    }
    function clearCalc() { calcExpr = ""; updateCalcDisplay(); }
    function calculate() { 
        try { calcExpr = eval(calcExpr.replace('√ó','*').replace('√∑','/')).toString(); updateCalcDisplay(); } 
        catch(e) { document.getElementById('calc-display').value = "Hiba"; calcExpr = ""; }
    }

    // --- R√ìMAI ELLEN≈êRZ≈ê LOGIKA ---
    const rMap = {M:1000,CM:900,D:500,CD:400,C:100,XC:90,L:50,XL:40,X:10,IX:9,V:5,IV:4,I:1};
    function toRoman(n) {
        let num = parseInt(n); if(!num) return;
        let res = ""; for(let k in rMap) { while(num >= rMap[k]) { res += k; num -= rMap[k]; } }
        document.getElementById('rom-in').value = res;
        validateRoman(res);
    }
    function appendRoman(c) {
        let i = document.getElementById('rom-in');
        if(c === 'DEL') i.value = i.value.slice(0,-1); else i.value += c;
        validateRoman(i.value);
    }
    function validateRoman(s) {
        if(!s) { document.getElementById('rom-res-box').innerText = "..."; return; }
        // Gener√°ljuk le a helyes alakot a bevitt √©rt√©k √∂sszeg√©b≈ël
        let val = 0;
        const chars = {M:1000,D:500,C:100,L:50,X:10,V:5,I:1};
        for(let i=0; i<s.length; i++) {
            let s1 = chars[s[i]], s2 = chars[s[i+1]];
            if(s2 > s1) { val += s2 - s1; i++; } else { val += s1; }
        }
        // Helyes alak gener√°l√°sa
        let correct = ""; let temp = val;
        for(let k in rMap) { while(temp >= rMap[k]) { correct += k; temp -= rMap[k]; } }
        
        const resBox = document.getElementById('rom-res-box');
        if(s !== correct) {
            resBox.innerHTML = `<span style="color:var(--red)">HELYTELEN ! ! !</span><br><small>Helyesen: ${correct} (${val})</small>`;
        } else {
            resBox.innerHTML = `<span style="color:var(--success)">HELYES</span><br>√ârt√©k: ${val}`;
        }
    }
</script>
</body>
</html>
